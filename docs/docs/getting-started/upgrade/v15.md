# Upgrading to Butler SOS v15

This guide covers what's new and what you need to know when upgrading to Butler SOS v15.

## What's New in v15

Butler SOS v15 includes several improvements focused on performance, reliability, and architecture:

### InfluxDB v1 Performance Improvements

The InfluxDB v1 implementation has been fully optimized with a modernized architecture that improves performance and maintainability. This refactoring brings v1 in line with the optimized implementations already used for InfluxDB v2 and v3.

**Benefits:**

- **Better performance** - More efficient data writes and reduced overhead
- **Improved reliability** - Consistent error handling and retry logic across all InfluxDB versions
- **Enhanced maintainability** - Cleaner codebase makes future improvements easier

:::tip No Action Required
These improvements are completely transparent to users. Your existing InfluxDB v1 configuration continues to work without any changes.
:::

### Additional Improvements

- Bug fixes and stability improvements
- Updated dependencies for security and compatibility
- Enhanced logging and diagnostics

## Breaking Changes

**None!** Butler SOS v15 maintains full backward compatibility with v14. Your existing configuration files work without modification.

## Upgrade Process

Butler SOS v15 follows the standard upgrade process:

1. **Backup** your configuration file
2. **Download** the new version from the [releases page](https://github.com/ptarmiganlabs/butler-sos/releases)
3. **Stop** Butler SOS
4. **Replace** the binary with the new version
5. **Start** Butler SOS
6. **Verify** operation by checking logs

For detailed upgrade instructions, see the [general upgrade guide](./index.md).

## Configuration Changes

No configuration changes are required for v15. All existing configuration options continue to work as before.

## InfluxDB Considerations

### InfluxDB v1 Users

The v1 implementation improvements are automatic - no schema changes or configuration updates required. Your data continues to be written using the same structure and format as before.

### InfluxDB v2 and v3 Users

No changes for v2 or v3 users. These implementations were already using the optimized architecture.

## Testing Your Upgrade

After upgrading to v15:

1. **Check startup logs** for any warnings or errors
2. **Verify data flow** to your InfluxDB instance(s)
3. **Review Grafana dashboards** to confirm metrics are being collected
4. **Monitor for a few hours** to ensure stable operation

If you use verbose logging (`--log-level verbose`), you may see improved diagnostic information that can help with troubleshooting if needed.

## Rollback

If you need to roll back to v14:

1. Stop Butler SOS v15
2. Restore your v14 binary
3. Start Butler SOS v14

No configuration changes or database cleanup is needed since v15 maintains full compatibility.

## Getting Help

If you encounter issues during or after the upgrade:

- Check the [troubleshooting section](./index.md#finally-when-things-arent-working-check-the-logs) of the main upgrade guide
- Review your [configuration file](../../reference/config-file-format.md) for any issues
- Post questions in the [Butler SOS discussions](https://github.com/ptarmiganlabs/butler-sos/discussions)
- Report bugs in the [issue tracker](https://github.com/ptarmiganlabs/butler-sos/issues)

## Next Steps

After successfully upgrading:

- Review the full [release notes](https://github.com/ptarmiganlabs/butler-sos/releases) for all changes
- Explore other [Butler SOS features](../../concepts/) you might not be using yet
- Check out the latest [example dashboards](../../examples/)
